{
  "db": "PostgreSQL",
  "3218b6fc70e46c329ae7ba4a313bcb9a40d5eb7713de7c7ee884dd9db41dda34": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO users_osu_data (user_id) VALUES ($1)"
  },
  "3efdd109d852b73587114756e2bb4e7b43c2fcd7acd0dca0fd69d31b74e86d0b": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "user_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "profile_picture",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "bio",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "featured_maps: Json<FeaturedMaps>",
          "ordinal": 4,
          "type_info": "Json"
        },
        {
          "name": "ranked_count",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "loved_count",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "nominated_count",
          "ordinal": 7,
          "type_info": "Int4"
        },
        {
          "name": "graveyard_count",
          "ordinal": 8,
          "type_info": "Int4"
        },
        {
          "name": "guest_count",
          "ordinal": 9,
          "type_info": "Int4"
        },
        {
          "name": "osu_data_modified_at",
          "ordinal": 10,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\n        SELECT \n            id, user_name, profile_picture, \n            profile.bio, \n            profile.featured_maps as \"featured_maps: Json<FeaturedMaps>\", \n            osu.ranked_count, osu.loved_count, osu.nominated_count, osu.graveyard_count, osu.guest_count,\n            osu.modified_at as osu_data_modified_at\n        FROM users \n        INNER JOIN user_profiles profile ON profile.user_id = $1 \n        INNER JOIN users_osu_data osu ON osu.user_id = $1\n        WHERE id = $1"
  },
  "51530a1a06b0ae31e99258c59fd819580d9993fd23ee08f9df65ef7924a21275": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE users SET user_name = $1 WHERE id = $2 RETURNING id"
  },
  "60fd0e0da707e92b214adef7489778fe11cf20e0090c17a1492a7b341e9304e5": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE users SET profile_picture = $1 WHERE id = $2 RETURNING id"
  },
  "62c983bb3c745b072b15ee523820e5e9403e3819ea61289326b626ef8f5a9c55": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "user_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "profile_picture",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "ranked_map_count",
          "ordinal": 3,
          "type_info": "Int4"
        },
        {
          "name": "influence_count",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "WITH top_influencers AS (\n            SELECT from_id, COUNT(*) AS influence_count\n            FROM influences\n            GROUP BY from_id\n            ORDER BY influence_count DESC\n            LIMIT 20\n        )\n        SELECT\n            users.id,\n            users.user_name,\n            users.profile_picture,\n            users_osu_data.ranked_count as ranked_map_count,\n            top_influencers.influence_count\n        FROM top_influencers\n        INNER JOIN users ON id = from_id\n        INNER JOIN users_osu_data ON users_osu_data.user_id = from_id"
  },
  "6880dd42e3f4c19b6e694693c4cfebc92066460c49fc11d960d3f7b784e9389f": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE user_profiles SET bio = $1 WHERE user_id = $2 RETURNING user_id"
  },
  "689ccc8a2c47be7848241b7a600220ae40f9b5e42e6db5c65303b2d227412dab": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Int4",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO influences (from_id, to_id, influence_level, info) VALUES ($1, $2, $3, $4) RETURNING from_id"
  },
  "82936ca170aef076e016acefd68b8b007064eb599ef9821ce2024534baace85f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\n        INSERT INTO user_profiles (user_id) VALUES ($1)"
  },
  "843923b9a0257cf80f1dff554e7dc8fdfc05f489328e8376513124dfb42996e3": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "user_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "profile_picture",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM users WHERE id = $1"
  },
  "8558e50e3ec076a0724e43cdd00c1e2b4ffdb56861ad5e76e05f59edc4f4d465": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Json",
          "Int8"
        ]
      }
    },
    "query": "\n            UPDATE user_profiles SET featured_maps = $1 WHERE user_id = $2\n        "
  },
  "8cdda88cc181541f72fc905f0444da40e8165750a8c27db6da174f0cc2bcac22": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "DELETE FROM influences WHERE from_id = $1 AND to_id = $2 RETURNING from_id"
  },
  "8cf16bacaabd59202e2183f6bda7306cd531a53271965fba762e3ebe8ae88f45": {
    "describe": {
      "columns": [
        {
          "name": "id: i32",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Jsonb",
          "Int4",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO error_table (error_message, error_data, error_code, error_category) VALUES ($1, $2, $3, $4) RETURNING id as \"id: i32\""
  },
  "8e93e459e9a797324b7fe5e3d90d4f6db69e3131543532ef71fffe41d787660a": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "to_id",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "influence_level",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "info",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM influences WHERE to_id = $1"
  },
  "91243710a9aeaf94e627d2d904f7d61c6c4063631fd5aac87b518a69d434a21e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Json"
        ]
      }
    },
    "query": "INSERT INTO user_osu_maps (user_id, mapsets) VALUES ($1, $2) ON CONFLICT (user_id) DO UPDATE SET mapsets = $2"
  },
  "97cb4888ec1fdfd661131764065fc9d022e722e91f672c487e1b097b7df6d9ce": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "user_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "profile_picture",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO users (id, user_name, profile_picture) VALUES ($1, $2, $3) RETURNING *"
  },
  "b20516efd17ee210d247e5b55deafcfaa3b754906bfdce8252ca90dfa015a213": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "UPDATE influences SET info = $1 WHERE from_id = $2 AND to_id = $3 RETURNING from_id"
  },
  "c48c463c5b2ea7bbb97258775db9151d86eee3570906b6968ba0e52dbb67368a": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "UPDATE influences SET influence_level = $1 WHERE from_id = $2 AND to_id = $3 RETURNING from_id"
  },
  "c84c66286a50e498d37559f48cc79cdc4e9855a19ca317b4deac1a7b4a4dc3cc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int4",
          "Int4",
          "Int4",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n        UPDATE \n            users_osu_data \n                SET (ranked_count, loved_count, nominated_count, graveyard_count, guest_count, modified_at) = \n                ($2 , $3, $4, $5, $6, DEFAULT) \n        WHERE \n            user_id = $1 "
  },
  "dc60518a1dc0cfbd05f6737de7724381b2b218004b27ecae3d5e2b139b92479b": {
    "describe": {
      "columns": [
        {
          "name": "mapsets: Json<Vec<Beatmapset>>",
          "ordinal": 0,
          "type_info": "Json"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT mapsets as \"mapsets: Json<Vec<Beatmapset>>\" FROM user_osu_maps WHERE user_id = $1"
  },
  "f749cbfc1f240abd5f0b804c7a567e84730e6dbc4f444da645450f275c1d8c15": {
    "describe": {
      "columns": [
        {
          "name": "from_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "to_id",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "influence_level",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "info",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM influences WHERE from_id = $1"
  }
}